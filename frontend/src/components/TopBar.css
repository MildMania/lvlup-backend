/* TopBar.css */
:root {
  --topbar-height: 72px; /* increased slightly from 68px to add extra breathing room */
  --sidebar-width: 280px; /* default, overridden by sidebar collapsed state */
}
.topbar {
  position: fixed;
  left: var(--sidebar-width);
  right: 0;
  top: 0;
  height: var(--topbar-height);
  background: var(--bg-primary);
  border-bottom: 1px solid var(--border-primary);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 16px; /* increased vertical padding to push content down slightly */
  gap: 12px;
  z-index: 900;
  /* animate left to follow sidebar collapse/expand */
  transition: left 0.28s cubic-bezier(0.4, 0, 0.2, 1), background 0.15s ease;
}

.topbar.collapsed {
  left: var(--sidebar-width); /* --sidebar-width is set by .layout inline style */
}

/* Ensure topbar shifts when layout has collapsed class */
.layout.sidebar-collapsed .topbar {
  left: var(--sidebar-width);
}

.topbar-left {
  display: flex;
  align-items: center;
  gap: 12px;
  position: relative;
}

.game-switch {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  padding: 6px 8px;
  border-radius: 8px;
  transition: background 0.15s ease;
}
.game-switch:hover { background: var(--bg-tertiary); }

.topbar-icon { color: #60a5fa; }

.topbar-game-info {
  display: flex;
  flex-direction: column;
  min-width: 0;
}
.topbar-game-name { font-weight: 700; font-size: 14px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.topbar-game-sub { font-size: 11px; color: var(--text-tertiary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

.chevron { color: var(--text-tertiary); }
.chevron.open { transform: rotate(180deg); }

.topbar-dropdown {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  width: 320px;
  background: var(--bg-secondary);
  border: 1px solid var(--border-primary);
  border-radius: 8px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.12);
  z-index: 920;
}

.dropdown-header { padding: 10px 12px; border-bottom: 1px solid var(--border-primary); font-weight: 700; }
.dropdown-list { max-height: 280px; overflow: auto; }
.dropdown-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 10px;
  width: 100%;
  background: none;
  border: none;
  text-align: left;
  cursor: pointer; /* show pointer to indicate clickable items */
}
.dropdown-item:hover {
  background: var(--bg-tertiary);
}
.dropdown-item:focus {
  outline: 2px solid rgba(59,130,246,0.16);
  outline-offset: 2px;
}
.dropdown-item.active { background: rgba(59,130,246,0.08); }
/* Make child meta text slightly lighter on hover */
.dropdown-item:hover .meta { color: var(--text-primary); }
.dropdown-actions { padding: 8px 10px; border-top: 1px solid var(--border-primary); display:flex; justify-content:flex-end; }
.refresh-btn { background: none; border: 1px solid var(--border-primary); padding: 6px 10px; border-radius:6px; }

.topbar-right { display:flex; align-items:center; gap:16px; }
.keys-row { display:flex; gap:12px; align-items:center; }
.key-item { display:flex; flex-direction:column; gap:4px; }
.key-item label { font-size:11px; color:var(--text-tertiary); }
.key-value { display:flex; align-items:center; gap:8px; background: var(--bg-tertiary); padding:6px 8px; border-radius:6px; border:1px solid var(--border-primary); }
.key-value code { font-family: 'Menlo','Monaco', monospace; font-size:12px; color:var(--text-primary); max-width:220px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.copy-btn { background:transparent; border:none; padding:4px; display:inline-flex; align-items:center; justify-content:center; }
.copy-btn:hover { background: var(--bg-secondary); border-radius:6px; }
.copied { font-size:11px; color:var(--text-secondary); }

/* Emphasize game name over id in dropdown items */
.dropdown-item .dropdown-item-info {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 2px;
  min-width: 0;
}

.dropdown-item .name {
  font-size: 13px;
  font-weight: 700; /* stronger emphasis */
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.dropdown-item .meta {
  font-size: 11px;
  color: var(--text-secondary);
  font-family: 'Menlo','Monaco', monospace;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Slightly increase gap so name/id feel separated from icon */
.dropdown-item > svg {
  flex-shrink: 0;
}

.dropdown-item { gap: 12px; }

/* Make room for topbar by adding top padding to main content */
.main-content { padding-top: var(--topbar-height); }

/* Adjust for collapsed sidebar via CSS variable override on .sidebar */
@media (max-width: 900px) {
  :root { --sidebar-width: 0px; }
  .topbar { left: 0; }
  .main-content { padding-top: var(--topbar-height); }
}
